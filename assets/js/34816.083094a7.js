(self.webpackChunkchzhshch_blog=self.webpackChunkchzhshch_blog||[]).push([[34816],{28453:(e,t,n)=>{"use strict";n.d(t,{R:()=>l,x:()=>o});var a=n(96540);const s={},i=a.createContext(s);function l(e){const t=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),a.createElement(i.Provider,{value:t},e.children)}},61206:(e,t,n)=>{(()=>{"use strict";var t={d:(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};t.r(a),t.d(a,{Audio:()=>ce,AudioPlayer:()=>De,AudioPlayerControlSprite:()=>y,PlayListContext:()=>q,PlayListPanel:()=>st,PlayListProvider:()=>Je});const s=n(74848),i=n(96540);function l(...e){const t=[];for(const n of e)if(n)if("string"!=typeof n)for(const e in n)n[e]&&t.push(e);else t.push(n);return t.join(" ")}const o=10,r={paused:"paused",playing:"playing",stopped:"stopped"},c={all:"all",none:"none",one:"one"},{none:u,all:d,one:f}=c,m=[u,d,f],p={activeIndex:0,isMuted:!1,isShuffleOn:!1,isTrackListOpen:!0,repeatingState:u};function h(e){const{className:t,imageId:n}=e;return(0,s.jsx)("svg",{className:t,children:(0,s.jsx)("use",{xlinkHref:n})})}var v="e05e18";const x="audio-player-icon-id-prefix-",b="#5a5a5a",g="0 0 24 24",k="http://www.w3.org/2000/svg";function y(){return(0,s.jsxs)("svg",{className:v,children:[(0,s.jsx)("symbol",{id:`${x}button-pause-playlist`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:"#4285f4"})}),(0,s.jsx)("symbol",{id:`${x}button-pause`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M14 19h4V5h-4M6 19h4V5H6v14z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}button-play`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M8 5.14v14l11-7-11-7z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}button-track-list`,viewBox:"-1 -1 23 23",xmlns:k,children:(0,s.jsx)("path",{d:"M19 9H2v2h17V9m0-4H2v2h17V5M2 15h13v-2H2v2m15-2v6l5-3-5-3z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}button-prev-track`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}button-next-track`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}button-repeat`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M17 17H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}button-repeat-one`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M13 15V9h-1l-2 1v1h1.5v4m5.5 2H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}button-shuffle`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M14.83 13.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13M14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}button-sound-off`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M12 4L9.91 6.09 12 8.18M4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.26c-.67.51-1.42.93-2.25 1.17v2.07c1.38-.32 2.63-.95 3.68-1.81L19.73 21 21 19.73l-9-9M19 12c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.916 8.916 0 0 0 21 12c0-4.28-3-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71m-2.5 0c0-1.77-1-3.29-2.5-4.03v2.21l2.45 2.45c.05-.2.05-.42.05-.63z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}button-sound-on`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}button-download`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}play-list-menu`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}play-list-plus`,viewBox:"-1 -1 23 23",xmlns:k,children:(0,s.jsx)("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z",fill:b})}),(0,s.jsx)("symbol",{id:`${x}trash-bin`,viewBox:g,xmlns:k,children:(0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z",fill:b})})]})}const j={div:"div",span:"span"},C="bff2b5",L="a45085",N="fde0b7",S="ac7b4a",w="ab5ee0";function M(e){const{onClick:t,imageId:n,isActive:a,ariaLabel:i,className:o,tag:r,hasBorder:c,isHideForNarrow:u}=e,d=l(C,{[L]:a,[N]:c,[w]:u},o),f=(0,s.jsx)(h,{className:S,imageId:`#${x}${n}`});return r===j.div?(0,s.jsx)("div",{className:d,children:f}):r===j.span?(0,s.jsx)("span",{className:d,children:f}):(0,s.jsx)("button",{"aria-label":i,className:d,onClick:t,type:"button",children:(0,s.jsx)(h,{className:S,imageId:`#${x}${n}`})})}function P(e){return{minutes:String(Math.floor(e/60)),seconds:String(Math.floor(e%60)).padStart(2,"0")}}var T="c7b08a";function I(e){const{currentTime:t,fullTime:n,className:a}=e,i=l(T,a),o=function(e,t){const{minutes:n,seconds:a}=P(e),{minutes:s,seconds:i}=P(t);return`${n}:${a} / ${s}:${i}`}(t,n);return(0,s.jsx)("span",{className:i,children:o})}var V="f9d0be",H="f79532",B="eee1d0",z="c44fc5",$="cc7be8",A="e0b58b",O="e13c85",E="d6d969",F="c0ae57";const R={defaultValue:0,max:1,min:0,step:.001};function W(e){const[t,n]=(0,i.useState)(!1),a=(0,i.useRef)(null),{className:o,isDisable:r,progress:c,onChange:u,ariaLabel:d,isHideForNarrow:f}=e,m=l(A,o,{[E]:t,[F]:!0===r,[O]:f});return(0,s.jsxs)("div",{className:m,onPointerDown:function(){n(!0)},onPointerUp:function(){n(!1)},children:[(0,s.jsx)("div",{className:$,children:(0,s.jsx)("div",{className:z,style:{transform:`translateZ(0) scaleX(${c||0})`}})}),(0,s.jsx)("div",{className:B,children:(0,s.jsx)("div",{className:H,style:{left:100*c+"%"}})}),(0,s.jsx)("input",{"aria-label":d,className:V,defaultValue:R.defaultValue,max:R.max,min:R.min,onChange:function(){u(function(){const{current:e}=a;return e?Number.parseFloat(e.value):0}())},ref:a,step:R.step,type:"range"})]})}const D=["nexttrack","pause","play","previoustrack","seekbackward","seekforward"];function _(e,t){var n;if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator&&(function(){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator){navigator.mediaSession.metadata=null;for(const e of D)navigator.mediaSession.setActionHandler(e,null)}}(),navigator.mediaSession.metadata=new MediaMetadata(e),t))for(const a of D)navigator.mediaSession.setActionHandler(a,null!==(n=t[a])&&void 0!==n?n:null)}function U(e){return function(){e.currentTime=0,e.addEventListener("canplay",function t(){e.removeEventListener("canplay",t,!1),e.play().then(()=>{e.pause(),e.currentTime=0})},!1)}}function J(e,t){return e.src===t.src}function Z(e){const{src:t,mediaMetadata:n,content:a}=e;let s={src:t};return n&&(s={...s,mediaMetadata:n}),a&&(s={...s,content:a}),s}const X=function(){const e={name:"",trackList:[]};return{createPlayList:()=>e,deletePlayList:e=>new Error("deletePlayList: overwrite me"),getAllPlayLists:()=>[e],getTrackById:e=>null,isInitialized:!1,removeTrackById:e=>new Error("removeTrack: overwrite me"),updatePlayList:(e,t)=>new Error("updatePlayList: overwrite me")}}(),q=(0,i.createContext)(X);function G(){return Math.round(1e6*Math.random()).toString(16)}function K(){return Math.random()>.5?1:-1}const Q="Play list",Y="No name playlist";var ee="cf10f9",te="b8f0f4",ne="f2a1b7";function ae(e){const{className:t,track:n}=e,a=l(ee,t),o=(0,i.useContext)(q),[r,c]=(0,i.useState)(0),{getAllPlayLists:u,updatePlayList:d,removeTrackById:f,isInitialized:m}=o,p=u(),h="-1",v=(0,i.useCallback)(e=>{const t=e.currentTarget,a=Number.parseInt(t.value,10),s=p.at(a),{src:i,mediaMetadata:l,content:o,preload:u,duration:m}=n;if(c(r+1),!s)return;const v=s.trackList.find(e=>J(e,n));if(v)return void f(v.id);let x={id:G(),src:i};l&&(x={...x,mediaMetadata:l}),"string"==typeof o&&(x={...x,content:o}),"string"==typeof u&&(x={...x,preload:u}),"number"==typeof m&&(x={...x,duration:m});const b=[x,...s.trackList];d(s,{...s,trackList:b}),t.value=h},[p,d,n,h,f,c,r]);return m?(0,s.jsxs)("label",{className:te,children:[(0,s.jsx)(M,{ariaLabel:"play list menu",className:a,imageId:"play-list-menu"}),(0,s.jsxs)("select",{className:ne,defaultValue:h,onChange:v,children:[(0,s.jsx)("option",{disabled:!0,value:h,children:"\xa0"}),p.map((e,t)=>{const a=e.trackList.find(e=>J(e,n)),i=e.name.trim()||Y,l=`${a?"[\u2713]":"[_]"} ${i}`;return(0,s.jsx)("option",{value:t,children:l},String(t)+i)})]},r)]}):null}var se="ce6c17",ie="e22549",le="a3d9e7",oe="cae029",re="e154e9";function ce(e){const{className:t,downloadFileName:n,duration:a=0,mediaMetadata:c,onDidMount:u,preload:d="auto",src:f,useRepeatButton:m=!1}=e,p=(0,i.useRef)(null),[h,v]=(0,i.useState)(0),[x,b]=(0,i.useState)(a),[g,k]=(0,i.useState)(1),[y,C]=(0,i.useState)(!1),[L,N]=(0,i.useState)(r.paused),[S,w]=(0,i.useState)(!1),P=y||0===g?"button-sound-off":"button-sound-on";function T(){const e=p.current;if(e)return e;throw new Error("Audio tag is not exists")}function V(){T().play()}function H(){T().currentTime+=o}function B(){T().currentTime-=o}(0,i.useEffect)(()=>{const e=T();u&&u(e)},[u]);const z=c?{mediaMetadata:c,src:f}:{src:f};return(0,s.jsxs)("div",{className:l(se,t),children:[(0,s.jsx)("audio",{className:ie,onEnded:function(){if(T().currentTime=0,S)return v(0),void V();N(r.paused),v(0)},onLoadedMetadata:function(){const e=T();v(0),b(e.duration),e.volume=g},onPause:function(){N(r.paused)},onPlay:function(){N(r.playing);const e={seekbackward:B,seekforward:H,stop:U(T())};_(c||{title:f},e)},onTimeUpdate:function(){const e=T();v(e.currentTime)},onVolumeChange:function(){const e=T();C(e.muted),k(e.volume)},preload:d,ref:p,src:f,volume:g,children:(0,s.jsx)("track",{kind:"captions",src:f})}),L===r.playing?(0,s.jsx)(M,{ariaLabel:"pause",imageId:"button-pause",onClick:function(){T().pause()}}):(0,s.jsx)(M,{ariaLabel:"play",imageId:"button-play",onClick:V}),m?(0,s.jsx)(M,{ariaLabel:"repeat",imageId:"button-repeat",isActive:S,onClick:function(){w(!S)}}):null,(0,s.jsx)(I,{className:re,currentTime:h,fullTime:x}),(0,s.jsx)(W,{ariaLabel:"progress bar",onChange:function(e){const t=T(),n=e*x;t.currentTime=n,v(n)},progress:h/x}),(0,s.jsx)(M,{ariaLabel:"switch-sound",imageId:P,isHideForNarrow:!0,onClick:function(){const e=T(),t=!e.muted;e.muted=t,C(t)}}),(0,s.jsx)(W,{ariaLabel:"volume bar",className:oe,isHideForNarrow:!0,onChange:function(e){T().volume=e,k(e)},progress:g}),(0,s.jsx)("a",{"aria-label":"download",className:le,download:null==n||n,href:f,children:(0,s.jsx)(M,{ariaLabel:"download",imageId:"button-download",tag:j.span})}),(0,s.jsx)(ae,{track:z})]})}function ue(e,t,n){const a=(t+n)%e;return a<0?a+e:a}function de(e,t,n){if(t-e<1)return e;const a=e+Math.floor(Math.random()*(t-e));return n&&n.includes(a)?de(e,t,n):a}var fe="d9b0ab",me="c82f2f",pe="da10e0";const he={absolute:"absolute",fixed:"fixed",relative:"relative",static:"static"},{size:ve}={size:48};function xe(e){const{size:t,lineWidth:n,arcColor:a,circleColor:i,isShow:o,wrapperWidth:r,wrapperHeight:c,position:u,wrapperColor:d,wrapperPadding:f,className:m}=e;if(!1===o)return null;const p=null!=u?u:he.static,h=null!=t?t:ve,v={borderColor:i,borderTopColor:a,borderWidth:n,height:h,width:h},x={backgroundColor:d,height:c,minHeight:h,minWidth:h,padding:f,position:p,width:r};return(0,s.jsx)("div",{className:l(me,m,{[pe]:p===he.static}),style:x,children:(0,s.jsx)("div",{className:fe,style:v})})}var be="bd925c",ge="df7adc",ke="da6e9c";function ye(e){const{trackCurrentTime:t,trackFullTime:n,onClickMuteVolume:a,isMuted:i,trackVolume:l,onChangeProgressBar:o,onChangeVolumeBar:r}=e,c=i||0===l?"button-sound-off":"button-sound-on",u=0!==n;return(0,s.jsxs)("div",{className:be,children:[(0,s.jsx)(I,{className:ge,currentTime:t,fullTime:n}),(0,s.jsx)(W,{ariaLabel:"progress bar",isDisable:!u,onChange:o,progress:u?t/n:0}),(0,s.jsx)(M,{ariaLabel:"switch-sound",className:"",imageId:c,isHideForNarrow:!0,onClick:a}),(0,s.jsx)(W,{ariaLabel:"volume bar",className:ke,isHideForNarrow:!0,onChange:r,progress:l})]})}var je="b31ddf";const{one:Ce,all:Le}=c;function Ne(e){const{onClickShuffle:t,onClickRepeat:n,onClickPrevTrack:a,onClickPlay:i,onClickNextTrack:l,onClickTrackList:o,playingState:c,isShuffleOn:u,repeatingState:d,isTrackListOpen:f}=e,m=c===r.playing;return(0,s.jsxs)("div",{className:je,children:[(0,s.jsx)(M,{ariaLabel:"shuffle",imageId:"button-shuffle",isActive:u,onClick:t}),(0,s.jsx)(M,{ariaLabel:"repeat",imageId:d===Ce?"button-repeat-one":"button-repeat",isActive:d===Ce||d===Le,onClick:n}),(0,s.jsx)(M,{ariaLabel:"prev",imageId:"button-prev-track",onClick:a}),m?(0,s.jsx)(M,{ariaLabel:"pause",imageId:"button-pause",onClick:i}):(0,s.jsx)(M,{ariaLabel:"play",imageId:"button-play",onClick:i}),(0,s.jsx)(M,{ariaLabel:"next",imageId:"button-next-track",onClick:l}),(0,s.jsx)(M,{ariaLabel:"track-list",imageId:"button-track-list",isActive:f,onClick:o})]})}var Se="fa9e1a",we="bcf8d9";function Me(e){const{onClickShuffle:t,onClickRepeat:n,onClickPrevTrack:a,onClickPlay:i,onClickNextTrack:l,onClickTrackList:o,onClickMuteVolume:r,onChangeProgressBar:c,onChangeVolumeBar:u,isMuted:d,playingState:f,isShuffleOn:m,repeatingState:p,isTrackListOpen:h,trackCurrentTime:v,trackVolume:x,trackFullTime:b,isLoading:g}=e;return(0,s.jsxs)("div",{className:Se,children:[(0,s.jsx)(xe,{className:we,isShow:g,lineWidth:3,position:"absolute",size:26,wrapperHeight:26,wrapperPadding:0,wrapperWidth:26}),(0,s.jsx)(Ne,{isShuffleOn:m,isTrackListOpen:h,onClickNextTrack:l,onClickPlay:i,onClickPrevTrack:a,onClickRepeat:n,onClickShuffle:t,onClickTrackList:o,playingState:f,repeatingState:p}),(0,s.jsx)(ye,{isMuted:d,onChangeProgressBar:c,onChangeVolumeBar:u,onClickMuteVolume:r,trackCurrentTime:v,trackFullTime:b,trackVolume:x})]})}var Pe="d6f4a6",Te="b48888",Ie="b28ca0",Ve="b3c7d7",He="bbcf1f",Be="a7a82b",ze="ef10a4",$e="c4d018",Ae="c0f54f",Oe="bee42b",Ee="bef821";function Fe(e){const{isCurrentTrack:t,activeIndex:n,track:a,playingState:o,onClickPlay:c,setActiveIndex:u,isLoading:d,playByIndex:f}=e,{src:m,duration:p=0,preload:v="auto"}=a,[b,g]=(0,i.useState)(p),{minutes:k,seconds:y}=P(b),j=(0,i.useRef)(null),C=function(e){const{content:t,mediaMetadata:n,src:a}=e;if(t)return t;const s=null==n?void 0:n.title;if(s)return s;const i=a.split("/").pop();if(!i)return"";const l=i.lastIndexOf(".");return l>0?i.slice(0,l):i}(a),L=(0,s.jsx)(xe,{isShow:d,lineWidth:4,position:"absolute",size:30,wrapperPadding:0}),N=l(Te,{[Ie]:t});function S(){u(n)}function w(){f(n)}return(0,s.jsxs)("li",{className:N,children:[(0,s.jsx)("audio",{className:Ve,muted:!0,onLoadedMetadata:function(){const e=function(){const e=j.current;if(e)return e;throw new Error("Audio tag is not exists")}();g(e.duration)},preload:v,ref:j,src:m}),function(){const e=`#${x}button-play`,n=`#${x}button-pause-playlist`,a="play";return o===r.playing?t?(0,s.jsxs)("button",{"aria-label":a,className:He,onClick:c,type:"button",children:[L,(0,s.jsx)(h,{className:ze,imageId:n})]}):(0,s.jsx)("button",{"aria-label":a,className:He,onClick:S,type:"button",children:(0,s.jsx)(h,{className:Be,imageId:e})}):t?(0,s.jsxs)("button",{"aria-label":a,className:He,onClick:c,type:"button",children:[L,(0,s.jsx)(h,{className:Be,imageId:e})]}):(0,s.jsx)("button",{"aria-label":a,className:He,onClick:w,type:"button",children:(0,s.jsx)(h,{className:Be,imageId:e})})}(),(0,s.jsx)("div",{className:$e,children:(0,s.jsx)("div",{className:Ee,children:C})}),(0,s.jsx)("div",{className:Oe,children:`${k}:${y}`}),(0,s.jsx)(ae,{className:Ae,track:a})]})}function Re(e){const{activeIndex:t,trackList:n,playingState:a,onClickPlay:i,setActiveIndex:l,isLoading:o,playByIndex:r}=e;return(0,s.jsx)("ul",{className:Pe,children:n.map((e,n)=>{const c=t===n;return(0,s.jsx)(Fe,{activeIndex:n,isCurrentTrack:c,isLoading:!!o&&c,onClickPlay:i,playByIndex:r,playingState:a,setActiveIndex:l,track:e},e.src)})})}var We="e2ec9c";function De(e){var t,n;const{defaultState:a,className:l,onDidMount:u,trackList:d}=e,f=function(e){return e?{...p,...e}:p}(a),h=null!==(n=null===(t=d.at(0))||void 0===t?void 0:t.duration)&&void 0!==n?n:0,[v,x]=(0,i.useState)(0),[b,g]=(0,i.useState)(h),[k,y]=(0,i.useState)(1),[j,C]=(0,i.useState)(f.isMuted),[L,N]=(0,i.useState)(r.paused),[S,w]=(0,i.useState)(f.activeIndex),[M,P]=(0,i.useState)(f.isShuffleOn),[T,I]=(0,i.useState)(f.repeatingState),[V,H]=(0,i.useState)(f.isTrackListOpen),[B,z]=(0,i.useState)(!1),[$,A]=(0,i.useState)(!1),O=(0,i.useRef)(null);function E(){return O.current||(console.error("Audio tag is not exists"),document.createElement("audio"))}function F(){return d[S]||null}function R(e){w(e),z(!0),x(0),g(0),X()}function W(){R(ue(d.length,S,1))}function D(){R(ue(d.length,S,-1))}function J(){E().currentTime+=o}function Z(){E().currentTime-=o}function X(){const e=F();if(!e)return;const{mediaMetadata:t}=e;t&&_(t,{nexttrack:W,previoustrack:D,seekbackward:Z,seekforward:J,stop:U(E())})}function q(){const e=F();return e?e.src:""}function G(){const e=E();e.paused?e.play():e.pause()}return(0,i.useEffect)(()=>{const e=E();u&&u(e)},[u]),(0,s.jsxs)("div",{className:null!=l?l:"",children:[(0,s.jsx)("audio",{autoPlay:L===r.playing,className:We,muted:j,onCanPlay:function(){$&&(A(!1),G())},onEnded:function(){const{one:e,all:t,none:n}=c,a=d.length;if(A(!0),a<=1)return w(0),void x(0);if(M)R(de(0,a,[S]));else{if(T===e)return A(!1),void G();T!==t?S<a-1?W():(A(!1),R(0)):W()}},onLoadedMetadata:function(){const e=E();z(!1),g(e.duration),e.volume=k},onPause:function(){N(r.paused)},onPlay:function(){N(r.playing),X()},onTimeUpdate:function(){const e=E();x(e.currentTime)},onVolumeChange:function(){const e=E();C(e.muted),y(e.volume)},preload:"metadata",ref:O,src:q(),volume:k,children:(0,s.jsx)("track",{kind:"captions",src:q()})},"audio-tag"),(0,s.jsx)(Me,{isLoading:B,isMuted:j,isShuffleOn:M,isTrackListOpen:V,onChangeProgressBar:function(e){E().currentTime=e*b},onChangeVolumeBar:function(e){E().volume=e},onClickMuteVolume:function(){const e=E(),t=!e.muted;e.muted=t,C(t)},onClickNextTrack:W,onClickPlay:G,onClickPrevTrack:D,onClickRepeat:function(){const e=(m.indexOf(T)+1)%m.length;I(m[e])},onClickShuffle:function(){P(!M)},onClickTrackList:function(){H(!V)},playingState:L,repeatingState:T,trackCurrentTime:v,trackFullTime:b,trackVolume:k}),V?(0,s.jsx)(Re,{activeIndex:S,isLoading:B,onClickPlay:G,playByIndex:function(e){w(e),z(!0);const t=E();t.addEventListener("canplay",function e(){z(!1),t.removeEventListener("canplay",e,!1),t.play()},!1)},playingState:L,setActiveIndex:R,trackList:d}):null]})}const _e="react-audio-player-play-list-storage-key-v.1.0.0";function Ue(){return[{name:Q,trackList:[]}]}function Je(e){const{children:t}=e,[n,a]=(0,i.useState)(function(){if("undefined"==typeof localStorage)return Ue();const e=localStorage.getItem(_e);return"string"==typeof e&&e.trim()?JSON.parse(e):Ue()}()),l=(0,i.useCallback)(e=>{const t=n.length;for(let a=0;a<t;a+=1){const{trackList:t}=n[a],s=t.length;for(let n=0;n<s;n+=1){const a=t[n];if(a.id===e)return a}}return null},[n]),o=(0,i.useCallback)(()=>{const e={name:`${Q} ${Array.from({length:4}).map(G).sort(K).join("").slice(0,4)}`,trackList:[]},t=[...n,e];return a(t),e},[n,a]),r=(0,i.useCallback)(()=>[...n],[n]),c=(0,i.useCallback)((e,t)=>{const s=[...n],i=s.indexOf(e);return i<0?new Error("Old Play List is not exists."):(s[i]=t,a(s),t)},[n,a]),u=(0,i.useCallback)(e=>{const t=[...n],s=t.indexOf(e);return s<0?new Error("Play List is not exists."):(t.splice(s,1),a(t),null)},[n,a]),d=(0,i.useCallback)(e=>{const t=n.length;for(let a=0;a<t;a+=1){const t=n[a],{trackList:s}=t,i=s.length;for(let n=0;n<i;n+=1)if(s[n].id===e){const e=[...s];return e.splice(n,1),c(t,{...t,trackList:e}),null}}return new Error("Track is not exists.")},[n,c]),f=(0,i.useMemo)(()=>({createPlayList:o,deletePlayList:u,getAllPlayLists:r,getTrackById:l,isInitialized:!0,removeTrackById:d,updatePlayList:c}),[o,r,c,u,d,l]);return(0,i.useEffect)(()=>{var e;e=n,"undefined"!=typeof localStorage&&localStorage.setItem(_e,JSON.stringify(e))},[n]),(0,s.jsx)(q.Provider,{value:f,children:t})}var Ze="dd564f",Xe="b59941",qe="a7ad0a",Ge="fe1637",Ke="f500e1",Qe="ecef14",Ye="aec634",et="e85b98",tt="a470ec";function nt(e){const{playList:t}=e,{trackList:n,name:a}=t,l=(0,i.useRef)(null),o=(0,i.useContext)(q),{updatePlayList:r,deletePlayList:c,getAllPlayLists:u}=o,d=u(),f=n.length>0;function m(){var e;return null!==(e=l.current)&&void 0!==e?e:(()=>{throw new Error("Can not get input of play list name")})()}const p=(0,i.useCallback)(()=>{r(t,{name:m().value.trim(),trackList:n})},[r,t,n]),h=(0,i.useCallback)(()=>{c(t)},[c,t]),v=d.length>1&&0===n.length?tt:et;return(0,s.jsxs)("div",{className:Ye,children:[(0,s.jsxs)("div",{className:Ge,children:[(0,s.jsx)("input",{className:Ke,defaultValue:a,onBlur:p,placeholder:Y,ref:l,type:"text"}),(0,s.jsx)(M,{ariaLabel:"delete",className:v,imageId:"trash-bin",onClick:h})]}),f?(0,s.jsx)(De,{trackList:n.map(Z)}):(0,s.jsx)("p",{className:Qe,children:"\u2205"})]})}function at(e,t){return(0,s.jsx)(nt,{playList:e},`${e.name}-${String(t)}`)}function st(){const e=(0,i.useContext)(q),{createPlayList:t,getAllPlayLists:n}=e,a=n();return(0,s.jsxs)("div",{className:qe,children:[a.map(at),(0,s.jsx)("div",{className:Xe,children:(0,s.jsx)(M,{ariaLabel:"add play list",className:Ze,imageId:"play-list-plus",onClick:t})})]})}e.exports=a})()}}]);